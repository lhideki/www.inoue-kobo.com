# 要件ドキュメント

## はじめに

このプロジェクトは、AWSアーキテクチャカードゲームの開発を目的としています。これは、プレイヤーがAWSサービスカードをプレイしてシステムアーキテクチャの課題を解決する一人用ゲームです。このゲームは、プレイヤーのAWSサービスとアーキテクチャパターンの知識をテストしながら、魅力的で教育的な体験を提供します。プレイヤーには特定の要件と予算を持つ課題が与えられ、限られたターン数の中で適切なAWSサービスカードとサポートカードを選択して課題を解決する必要があります。

## 要件

### 要件1：ゲームの基本メカニズム

**ユーザーストーリー:** プレイヤーとして、AWSアーキテクチャの知識をテストするカードゲームをプレイしたいと思います。それにより、魅力的な方法でAWSソリューションを学び、練習することができます。

#### 受け入れ基準

1. ゲームが開始されるとき、システムはプレイヤーにランダムに選択されたアーキテクチャの課題を提示するものとします。
2. 課題が提示されるとき、システムはソリューションの予算（コスト）制約を表示するものとします。
3. 課題が提示されるとき、システムはプレイヤーの手札に10枚のサービスカードを配るものとします。
4. 課題が提示されるとき、システムはプレイヤーに5枚のサポートカードを提供するものとします。
5. プレイヤーのターンが始まるとき、システムはプレイヤーが最大3枚のサービスカードをソリューションとして提出することを許可するものとします。
6. プレイヤーがカードを提出するとき、システムはソリューションを評価し、フィードバックを提供するものとします。
7. プレイヤーがサービスカードを捨てるとき、システムは次のターンで同じ枚数の新しいカードを引くことを許可するものとします。
8. プレイヤーがサポートカードを有効化するとき、システムはカードを消費せずにカードの効果を適用するものとします。
9. プレイヤーがターンをスキップするとき、システムは課題の状況を若干悪化させるものとします。
10. 3ターンが経過したとき、システムはゲームを終了し、最終評価を提供するものとします。

### 要件2：カードシステム

**ユーザーストーリー:** プレイヤーとして、様々な効果を持つAWSサービスカードとサポートカードの多様なセットが欲しいと思います。それにより、様々なソリューション戦略を作成することができます。

#### 受け入れ基準

1. ゲームがロードされるとき、システムは約70枚のAWSサービスを表すサービスカードを含むものとします。
2. ゲームがロードされるとき、システムはサービスカードを強化する約30枚のサポートカードを含むものとします。
3. カードが表示されるとき、システムはタイプ、コスト、効果、説明、キーワードを含むカード情報を表示するものとします。
4. サービスカードがプレイされるとき、システムはそれらをプレイヤーの手札から削除するものとします。
5. サポートカードが有効化されるとき、システムはプレイヤーの所持からそれらを削除せずに効果を適用するものとします。
6. 特定のサービスカードとサポートカードが組み合わされるとき、システムはカードの説明に定義されている特別な組み合わせ効果を適用するものとします。
7. カードが配られるとき、システムは現在の課題に関連するキーワードを持つカードを優先するものとします。

### 要件3：課題システム

**ユーザーストーリー:** プレイヤーとして、多様なAWSアーキテクチャの課題に直面したいと思います。それにより、様々な実世界のシナリオを解決する練習ができます。

#### 受け入れ基準

1. ゲームがロードされるとき、システムは少なくとも40の事前定義されたアーキテクチャ課題を含むものとします。
2. 課題が提示されるとき、システムは課題の説明、予算制約、関連キーワードを表示するものとします。
3. プレイヤーがソリューションを提出するとき、システムは課題に対して選択されたカードの適切さに基づいて評価するものとします。
4. ソリューションが予算を超えるとき、システムはそれを受け入れるが、スコアにペナルティを適用するものとします。
5. 課題が評価されるとき、システムはソリューションが課題の状況にどのように影響するかについてのフィードバックを提供するものとします。

### 要件4：ゲームマスターAI

**ユーザーストーリー:** プレイヤーとして、私のソリューションを評価し、フィードバックを提供するAIゲームマスターが欲しいと思います。それにより、私の決定から学ぶことができます。

#### 受け入れ基準

1. プレイヤーがソリューションを提出するとき、システムはAmazon Bedrock LLMを使用してソリューションを評価するものとします。
2. ソリューションを評価するとき、システムは課題に対するカードの関連性を考慮するものとします。
3. ソリューションを評価するとき、システムはソリューションのコスト効率を考慮するものとします。
4. ソリューションを評価するとき、システムは特別なカードの組み合わせとシナジーを考慮するものとします。
5. フィードバックを提供するとき、システムはソリューションが効果的または非効果的だった理由を説明するものとします。

### 要件5：ユーザーインターフェース

**ユーザーストーリー:** プレイヤーとして、直感的で視覚的に魅力的なゲームインターフェースが欲しいと思います。それにより、ゲームの状態を簡単に理解し、決定を下すことができます。

#### 受け入れ基準

1. ゲームがロードされるとき、システムはReact.jsとNext.jsで構築されたユーザーインターフェースを表示するものとします。
2. ゲーム画面を表示するとき、システムは現在の課題、残りのターン、予算を表示するものとします。
3. ゲーム画面を表示するとき、システムはプレイヤーのサービスカードの手札を表示するものとします。
4. ゲーム画面を表示するとき、システムはプレイヤーの利用可能なサポートカードを表示するものとします。
5. カードを表示するとき、システムはコスト、効果、説明を含むカードの詳細を表示するものとします。
6. カードを選択するとき、システムは選択されたカードに視覚的なフィードバックを提供するものとします。
7. ソリューションを提出するとき、システムは評価とフィードバックを目立つように表示するものとします。

### 要件6：デプロイメントとインフラストラクチャ

**ユーザーストーリー:** 開発者として、ゲームがAWS App Runnerを使用してデプロイ可能で、インフラストラクチャがAWS CDKで定義されることを望みます。それにより、簡単にデプロイおよび管理できます。

#### 受け入れ基準

1. アプリケーションをデプロイするとき、システムはAWS App Runnerを使用してデプロイ可能であるものとします。
2. インフラストラクチャを定義するとき、システムはInfrastructure as CodeにAWS CDKを使用するものとします。
3. Amazon Bedrockと統合するとき、システムは適切な認証と認可を含むものとします。
4. デプロイされるとき、システムは追加のソフトウェアインストールなしでウェブブラウザからアクセス可能であるものとします。
5. デプロイされるとき、システムは複数の同時ユーザーを処理するものとします。